<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <meta http-equiv="Content-Language" content="en-uk" />
    <meta name="Copyright" content="Copyright © 2005-2007 Ian Phillips." />
    <meta name="Author" content="Ian Phillips" />
    <meta name="ID" content="$Id$" />
    <style type="text/css" media="all">@import "../style.css";</style>
    <title>The Record Ledger ~ RvSnoop @version@ Developer’s Guide</title>
  </head>
  <body>
    <div id="nav">
      <a href="records.html">Previous Chapter (Records, Subjects, &amp; Types)</a> |
      <a href="index.html">Contents</a> |
      <a href="importexport.html">Next Chapter (Importing &amp; Exporting Records)</a>
    </div>
    <h1>The Record Ledger</h1>
    <p>
      The central component of RvSnoop is the record ledger. The ledger deals
      with storing records and with sorting and filtering them. RvSnoop
      supports various types of ledger, providing different storage mechanisms
      for records, the default ledger type (and the only ledger supported by
      early versions of RvSnoop) is an in-memory store. Alternative stores are
      file- and database-based. For database based ledgers any <a
      href="http://java.sun.com/products/jdbc/"><acronym>JDBC</acronym></a>
      compliant database is supported, although an embedded <a
      href="http://www.h2database.com/">H2</a> based store is supplied.
    </p>
    <p>
      The basic interface of the ledger is supplied as an abstract base class,
      the different storage mechanisms are supported as concrete subclasses of
      this. The diagram below illustrates the relationship between these
      classes.
    </p>
    <img alt="Record Ledger Classes" src="recordledgerclasses.png">
    <p>
      Basically, the ledger is a wrapper around an <code>EventList</code>
      instance. The wrapped list takes care of all of the persistence details
      while the ledger class handles all of the locking and synchronisation.
      The different ledger types also allow properties to be set controlling
      their behaviour (for example, whether the file based ledger uses
      synchronous writes or not).
    </p>
    <p>
      An additional class is the <code>FilteredLedgerView</code> which allows
      a view to show a subset of the records in the ledger; this is the class
      which provides the standard view of the ledger in the main window.
    </p>
    <div id="nav">
      <a href="records.html">Previous Chapter (Records, Subjects, &amp; Types)</a> |
      <a href="index.html">Contents</a> |
      <a href="importexport.html">Next Chapter (Importing &amp; Exporting Records)</a>
    </div>
  </body>
</html>